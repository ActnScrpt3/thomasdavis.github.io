<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
 <meta name="readability-verification" content="vy47hkYexnjBxYJ62n4NseCxGUkPza7UP3enFJa3"/>
   <title>Thomas Davis</title>   <meta name="author" content="Thomas Davis" />
  <link rel="stylesheet" href="/css/syntax.css" type="text/css" />

   <link rel="stylesheet" href="/css/styles.css" type="text/css" />
</head>
<body>

<div class="container">
	    <div class="header span-20 push-1">
      <div class="span-14">
        <h1><a href="http://thomasdavis.github.com">Thomas Davis - Front End Developer</a></h1>
    <a href="https://twitter.com/neutralthoughts" class="twitter-follow-button">Follow @neutralthoughts</a>
<script src="//platform.twitter.com/widgets.js" type="text/javascript"></script>
      </div>
    </div>
  <div class="wrapper span-22 push-1">

    <div class="page span-20 push-1">
<a href="/" style="margin-top: 10px;">Back to home</a>
<br />
<h2>jQuery 1.5 &#8211; create your own deferred object with parameters</h2>
<p>jQuery has just recently released version 1.5 which now contains $.when and $.then, yay!  There are many tutorials already   on how to use these new functions.  All the examples used $.ajax calls which are setup by jQuery to be used as deferred objects so I found it difficult to implement my own deferred objects.   I found this <a href="http://www.erichynds.com/jquery/using-deferreds-in-jquery/">guide</a> which is great and covers most of what you need to know.</p>
<p>The tutorial covers how to create your own deferred objects but doesn&#8217;t include passing parameters to $.then call backs.   So after playing around a little bit and reading the jQuery source I figured it out and have included it below.</p>
<p>I have seen some people asking on how to do this so hopefully it helps! As usual post any mistakes I made</p>
<div class="highlight"><pre><code class="javascript"><span class="kd">function</span> <span class="nx">myFunc</span><span class="p">(){</span>
	<span class="k">return</span> <span class="nx">$</span><span class="p">.</span><span class="nx">Deferred</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">deferred_obj</span> <span class="p">){</span>
		<span class="nx">$</span><span class="p">(</span><span class="s2">&quot;body&quot;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">&quot;background&quot;</span><span class="p">,</span> <span class="s2">&quot;#ff0000&quot;</span><span class="p">);</span> <span class="c1">// Example</span>
		<span class="nx">deferred_obj</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span> <span class="s2">&quot;these&quot;</span><span class="p">,</span> <span class="s2">&quot;are&quot;</span><span class="p">,</span> <span class="s2">&quot;my&quot;</span><span class="p">,</span> <span class="s2">&quot;parameters&quot;</span> <span class="p">);</span>
		<span class="c1">// Call resolve when you are ready to continue, in animation callbacks etc</span>
	<span class="p">}).</span><span class="nx">promise</span><span class="p">();</span>
<span class="p">};</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">when</span><span class="p">(</span> <span class="nx">myFunc</span><span class="p">()</span> <span class="p">)</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">p1</span><span class="p">,</span> <span class="nx">p2</span><span class="p">,</span> <span class="nx">p3</span><span class="p">,</span> <span class="nx">p4</span><span class="p">){</span>
		<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="nx">p1</span> <span class="o">+</span> <span class="nx">p2</span> <span class="o">+</span> <span class="nx">p3</span> <span class="o">+</span> <span class="nx">p4</span><span class="p">);</span>
<span class="p">});</span>       
</code></pre></div><p>So it&#8217;s pretty easy and you should start using them immediatly!</p>
<h2><a href="http://thomasdavis.github.com/examples/jquery-deferred/">Demo</a><br />
	<a href="https://github.com/thomasdavis/thomasdavis.github.com/tree/master/examples/jquery-deferred">Source</a></h2>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'thomasdavis'; // required: replace example with your forum shortname
    var disqus_url = 'http://thomasdavis.github.com/2011/03/04/jquery-create-your-own-deferred.html';
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>


  </div>

</div>




  
</div>

</body>
</html>
